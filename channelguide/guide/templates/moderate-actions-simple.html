{% comment %}
Copyright (c) 2008 Participatory Culture Foundation
See LICENSE for details.
{% endcomment %}
{% load i18n cg_helpers %}
<ul class="simple-moderate-actions moderate-actions">
{% if channel.is_approved %}
<li class="channel-action">
    {% if user.is_supermoderator %}
        {% if channel.featured_queue %}
        <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
          <div>
            <input type="hidden" name="action" value="unfeature">
              {% ifequal channel.featured_queue.state channel.featured_queue.PAST %}
              <input class="email-form" type="submit" value="Refeature">
              {% else %}
              <input type="submit" value="Unfeature">
              {% endifequal %}
            </div>
        </form>
        {% else %}
        <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
          <div>
            <input type="hidden" name="action" value="feature">
            <input class="email-form" type="submit" value="Feature">
          </div>
        </form>
        {% endif %}
    {% else %}
        <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
          <div>
            <input type="hidden" name="action" value="toggle-moderator-share">
            {% if channel.moderator_shared_at %}
            <input type="submit" value="Unshare w/ mods">
            {% else %}
            <input type="submit" value="Share w/ mods">
            {% endif %}
          </div>
        </form>
        {% endif %}
    </li>
    <li class="channel-action">
    <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
      <div>
        <input type="hidden" name="action" value="change-state">
        <input type="submit" name="submit" value="Unapprove">
      </div>
    </form>
    </li>
    {% if user.is_admin %}
    <li class="channel-action">
    <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
      <div>
        <input type="hidden" name="action" value="change-state">
        <input type="submit" name="submit" value="Delete" onclick="return confirm('Are you sure you want to delete this show?');">
      </div>
    </form>
    </li>
    {% else %}
        {% ifequal user.id channel.owner_id %}
    <li class="channel-action">
    <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
      <div>
        <input type="hidden" name="action" value="change-state">
        <input type="submit" name="submit" value="Delete" onclick="return confirm('Are you sure you want to delete this show?');">
      </div>
    </form>
    </li>
        {% endifequal %}
    {% endif %}
{% else %}
<li class="channel-action">
    <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
      <div>
        <input type="hidden" name="action" value="change-state">
        <input type="submit" name="submit" value="Approve">
        {% if user.is_supermoderator %}
        <input class="email-form" type="submit" name="submit" value="Approve &amp; Feature">
        {% else %}
        <input type="submit" name="submit" value="Approve &amp; Share">
        {% endif %}
        <input type="submit" name="submit" value="Audio">
        <input type="submit" name="submit" value="Don't Know">
      </div>
    </form>
</li>
{% endif %}
    {% if user.is_supermoderator and channel.owner %}
    <li class="channel-action channel-action-right">
        <form method="POST" action="{{ channel.get_url }}" onsubmit="showLoadIndicator();">
          <div>
            <input type="hidden" name="action" value="change-owner">
            <label for="owner"><a {% link channel.owner.get_absolute_url %}>Show Manager</a>:</label>
            <input type="text" id="owner" name="owner" value="{{ channel.owner }}">
            <input type="submit" value="change">
          </div>
        </form>
    </li>
    {% endif %}
</ul>
