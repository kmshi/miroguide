{% extends "donate/base.html" %}
{% block head-extra %}<script src="{{ STATIC_BASE_URL }}js/jquery.js" type="text/javascript"></script>{% endblock %}
{% block content %}
<div class="column left">
{% block message %}
<p><strong>Supporters of Open Media:</strong></p>
<p style="padding-top:10px;">Miro is made by a non-profit organization that is leading the fight for open internet video: hundreds of thousands of people use our open software every month, we’ve powered the distribution of thousands of independent creators and public broadcasters, and we’re demonstrating why net neutrality matters. Miro has a chance to become a desktop application for a truly mass audience. If we can reach this point, we’ll have ensured that open video distribution is here to stay. But we’re at a critical moment.</p>
<p>Our team cares deeply about our mission and we need to ensure that our work can continue. Two large donors have promised to commit funding if we can also build strong support from our users. There is no more important time that right now for you to donate; we urgently need your support.</p>
<p><a href="#donate" onclick="javascript:showDonateRibbon(); return false;">I hope you’ll join our effort to build a more open media.</a></p>
<p>Sincerely,</p>
<p>Nicholas Reville, Executive Director</p>
<p><span class="special">p.s. Are you in a position to give $1,000 or more? You can help us take our efforts much further. We have a special pitch we’d <a href="{{ BASE_URL }}donate/special{% if request.GET.next %}?next={{ request.GET.next }}{% endif %}">like you to hear</a>.</span></p>
{% endblock %}
</div> <!--/COLUMN-->

<div class="column right">
  <script type="text/javascript">
    
function showDonateRibbon() {
    ribbon = $("#donate");
    everythingElse = $("#header").add(".column.left").add(".column.right > *");
    $("#video").hide();
    ribbon.css('opacity', 0).show();
    everythingElse.animate({ opacity: 0.6}, 'fast');
    ribbon.animate({opacity: 1}, 'fast');
}
function hideDonateRibbon() {
    ribbon = $("#donate");
    everythingElse = $("#header").add(".column.left").add(".column.right > *");
    everythingElse.animate({ opacity: 1}, 'fast');
    ribbon.animate({opacity: 0}, 'fast',
		   function() {
		       ribbon.hide();
		       $("#video").show();
		   });
}
  </script>
  <a href="#donate" onclick="javascript:showDonateRibbon(); return false;"><img src="{{ STATIC_BASE_URL }}images/donate/donate.png" alt="donate button" /></a>
   <div id="donate" style="display: none;">
     <div>
       <form action="https://www.paypal.com/cgi-bin/webscr" method="post" name="paypal">
	 <input type="hidden" name="cmd" value="_xclick" />
	 <input type="hidden" name="business" value="donate@pculture.org" />
	 <input type="hidden" name="item_name" value="Donation to Miro" />
	 <input type="hidden" name="item_number" value="111" />
	 <input type="hidden" name="no_shipping" value="1" />
	 <input type="hidden" name="return" value="http://www.getmiro.com/" />
	 <input type="hidden" name="cancel_return" value="http://www.getmiro.com/donate" />
	 <input type="hidden" name="no_note" value="1" />
	 <input type="hidden" name="currency_code" value="USD" />
	 <input type="hidden" name="tax" value="0" />
	 <input type="hidden" name="bn" value="PP-DonationsBF" />
       </form>
       <a href="#paypal" onclick="javascript:document.paypal.submit(); return false;"><img src="{{ STATIC_BASE_URL }}images/donate/paypal.png" alt="Donate with Paypal" /></a>
       <a href="{{ BASE_URL }}donate/cc" target="_blank"><img src="{{ STATIC_BASE_URL }}images/donate/card.png" alt="Donate with a Credit Card" /></a>
       <span class="close"><a href="#close" onclick="javascript:hideDonateRibbon(); return false;">x</a></span>
     </div>
   </div>

<div id="video"><a href="http://subscribe.getmiro.com/download/?url1=http://blip.tv/file/get/Miropcf-HelpUsMakeMediaMoreOpen316.mp4"><img src="http://e.static.blip.tv/Miropcf-HelpUsMakeMediaMoreOpen877.jpg" alt="Thumbnail of OKGO's Andy Ross talking about Why Miro Matters" /><div class="download">download video</div></a></div>
<script type="text/javascript">
function vlcPlayPause(obj, button) {
    if (obj.isplaying() == true) { 
        obj.pause();
        button.attr('value', 'Play');
    } else {
        obj.play();
        button.attr('value', 'Pause');
    }
}

function vlcRestart(obj) {
    obj.stop();
    obj.play();
}

function createVideo(obj, flv, mp4, image, width, height) {
    win = 0;
    var htmlCode = '';
    if (navigator.mimeTypes['application/x-shockwave-flash'] &&
	navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin) {
        var htmlCode = '<embed ' +
    	'src="{{ STATIC_BASE_URL }}images/mediaplayer.swf" '+
    	'width="' + width + '" ' +
	'height="' + height + '" ' +
	'allowscriptaccess="always" ' +
	'allowfullscreen="true" ' +
	'flashvars="height=' + height + '&width=' + width + '&file=' + flv +
	'&image=' + image + '&showdigits=false&usefullscreen=false" '+
	'/>';    
    } else if (navigator.mimeTypes["application/x-vlc-plugin"] &&
	navigator.mimeTypes["application/x-vlc-plugin"].enabledPlugin) {
        /* use VLC */
        htmlCode = '<embed type="application/x-vlc-plugin" width=' + width + ' height=' + height + ' autoplay="no" loop="no" name="video1" target="' + mp4 + '" />'
            + '<input id="playpause" type="button" value="Play" onclick="vlcPlayPause(document.video1, $(\'#playpause\'));" />'
            + '<input type="button" value="Restart" onclick="vlcRestart(document.video1);" />'
            + '<input type="button" value="Mute" onclick="document.video1.mute(); document.video1.get_volume();" />'
        win = 1;
        height = height + 23;
    } else if (navigator.mimeTypes["video/quicktime"] &&
	       navigator.mimeTypes["video/quicktime"].enabledPlugin) {
        height = height + 19;
        htmlCode = '<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" id="player" height="' + height +'" width="' + width + '">' +
            '<param name="CONTROLS" value="imagewindow">'+
            '<param name="autogotourl" value="false">'+
            '<param name="console" value="radio">'+
            '<param name="autostart" value="false">'+
            '<param name="type" value="video/quicktime">'+
            '<param name="src" value="' + mp4 + '">'+
            '<embed controls="imagewindow" autogotourl="false" console="radio" autostart="false" type="video/quicktime" src="' + mp4 + '" name="player" height="' + height +'" width="' + width + '">'+
            '</object>';
    }
    if (htmlCode != '') {
        obj.html(htmlCode).height(height);
        if (win) {
            for (var i=10; i<=100; i+= 10) {
                window.setTimeout(function(){
                    document.video1.set_volume(i);
                }, i);
            }
        }
    }
}
if (navigator.userAgent.indexOf('Linux') == -1 || navigator.userAgent.indexOf('Miro') == -1) {
    createVideo($("#video"),
		"http://blip.tv/file/get/Miropcf-HelpUsMakeMediaMoreOpen316.flv",
		"http://blip.tv/file/get/Miropcf-HelpUsMakeMediaMoreOpen316.mp4",
		"http://e.static.blip.tv/Miropcf-HelpUsMakeMediaMoreOpen877.jpg", 280, 210);
}
</script>
<p class="subvid">OKGO's Andy Ross: Why Miro Matters</p>
{% if request.GET.next %}
<a href="{{ request.GET.next }}"><img src="{{ STATIC_BASE_URL }}images/donate/goto-guide.png" alt="go to the guide" /></a>
{% endif %}
</div> <!--/COLUMN-->
{% endblock %}
